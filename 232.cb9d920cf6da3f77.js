"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[232],{3232:(te,T,a)=>{a.r(T),a.d(T,{HeroesModule:()=>ee});var p=a(6895),u=a(4006),c=a(3060),e=a(4650),y=a(2340),J=a(529);let g=(()=>{class o{constructor(t){this.http=t,this.baseUrl=y.N.baseUrl}getHeroes(){return this.http.get(`${this.baseUrl}/heroes`)}getHeroById(t){return this.http.get(`${this.baseUrl}/heroes/${t}`)}getSuggestions(t){return this.http.get(`${this.baseUrl}/heroes?q=${t}&_limit=6`)}addHero(t){return this.http.post(`${this.baseUrl}/heroes`,t)}updateHero(t){return this.http.put(`${this.baseUrl}/heroes/${t.id}`,t)}deleteHero(t){return this.http.delete(`${this.baseUrl}/heroes/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(J.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var _=a(4850),d=a(4859),m=a(3546);let Z=(()=>{class o{transform(t){return!t.id||t.id&&""==t.alt_img?"assets/no-image.png":t.alt_img?t.alt_img:`assets/heroes/${t.id}.jpg`}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"image",type:o,pure:!0}),o})();const S=function(o){return["/heroes",o]},w=function(o){return["/heroes/edit",o]};let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-hero-card"]],inputs:{hero:"hero"},decls:24,vars:14,consts:[["mat-card-image","",3,"src"],["mat-button","","color","warn",3,"routerLink"],["mat-button","","color","info",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA()(),e._UZ(6,"img",0),e.ALo(7,"image"),e.TgZ(8,"mat-card-content")(9,"h3"),e._uU(10),e.qZA(),e.TgZ(11,"p")(12,"strong"),e._uU(13,"First appearance"),e.qZA(),e._uU(14),e._UZ(15,"br"),e.TgZ(16,"strong"),e._uU(17,"Characters"),e.qZA(),e._uU(18),e.qZA()(),e.TgZ(19,"mat-card-actions")(20,"button",1),e._uU(21," More... "),e.qZA(),e.TgZ(22,"button",2),e._uU(23," Edit "),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(n.hero.superhero),e.xp6(2),e.Oqu(n.hero.alter_ego),e.xp6(1),e.Q6J("src",e.lcZ(7,8,n.hero),e.LSH),e.xp6(4),e.Oqu(n.hero.publisher),e.xp6(4),e.hij(" ",n.hero.first_appearance," "),e.xp6(4),e.hij(" ",n.hero.characters," "),e.xp6(2),e.Q6J("routerLink",e.VKq(10,S,n.hero.id)),e.xp6(2),e.Q6J("routerLink",e.VKq(12,w,n.hero.id)))},dependencies:[d.lW,m.a8,m.dk,m.dn,m.n5,m.$j,m.hq,m.G2,c.rH,Z],encapsulation:2}),o})();function k(o,r){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"app-hero-card",3),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("hero",t)}}let F=(()=>{class o{constructor(t){this.heroesService=t,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(t=>this.heroes=t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:6,vars:1,consts:[[1,"parent"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"hero"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1,"List of heroes"),e.qZA(),e._UZ(2,"mat-divider")(3,"br"),e.TgZ(4,"div",0),e.YNc(5,k,2,1,"div",1),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",n.heroes))},dependencies:[p.sg,_.d,N],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around;gap:20px}.card[_ngcontent-%COMP%]{flex-basis:15%}@media (max-width: 800px){.card[_ngcontent-%COMP%]{flex-basis:30%}}@media (max-width: 545px){.card[_ngcontent-%COMP%]{flex-basis:100%}}@media (width: 150px){.parent[_ngcontent-%COMP%]{flex-direction:column}}"]}),o})();var A=a(3900),f=(()=>{return(o=f||(f={})).DCComics="DC Comics",o.MarvelComics="Marvel Comics",f;var o})(),C=a(5412);let I=(()=>{class o{constructor(t,n){this.dialogRef=t,this.data=n}ngOnInit(){}delete(){this.dialogRef.close(!0)}close(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.so),e.Y36(C.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirm"]],decls:12,vars:1,consts:[["mat-button","","color","warn",3,"click"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Are you sure?"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"p"),e._uU(4),e._UZ(5,"br"),e._uU(6," Do you want to continue?\n"),e.qZA(),e.TgZ(7,"div")(8,"button",0),e.NdJ("click",function(){return n.delete()}),e._uU(9,"Yes, delete"),e.qZA(),e.TgZ(10,"button",1),e.NdJ("click",function(){return n.close()}),e._uU(11,"Cancel"),e.qZA()()),2&t&&(e.xp6(4),e.hij("You are about to delete ",n.data.superhero," "))},dependencies:[d.lW],encapsulation:2}),o})();var Y=a(7009),U=a(3238),v=a(9549),M=a(7392),b=a(4144),L=a(4385);function P(o,r){if(1&o&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.desc)}}function Q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteH())}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e._uU(3," Delete "),e.qZA()}}let H=(()=>{class o{constructor(t,n,i,s,l){this.heroesService=t,this.activatedRoute=n,this.router=i,this.snackBar=s,this.dialog=l,this.publishers=[{id:"DC Comics",desc:"DC-Comics"},{id:"Marvel Comics",desc:"Marvel-Comics"}],this.hero={superhero:"",alter_ego:"",characters:"",first_appearance:"",publisher:f.DCComics,alt_img:""}}ngOnInit(){!this.router.url.includes("edit")||this.activatedRoute.params.pipe((0,A.w)(({id:t})=>this.heroesService.getHeroById(t))).subscribe(t=>this.hero=t)}save(){0!==this.hero.superhero.trim().length&&(this.hero.id?this.heroesService.updateHero(this.hero).subscribe(t=>this.showSnackBar("Updated")):this.heroesService.addHero(this.hero).subscribe(t=>{this.router.navigate(["/heroes/edit",t.id]),this.showSnackBar("Created")}))}deleteH(){this.dialog.open(I,{width:"250px",data:this.hero}).afterClosed().subscribe(n=>{n&&this.heroesService.deleteHero(this.hero.id).subscribe(i=>{this.router.navigate(["/heroes"])})})}showSnackBar(t){this.snackBar.open(t,"ok!",{duration:2500})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g),e.Y36(c.gz),e.Y36(c.F0),e.Y36(Y.ux),e.Y36(C.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add"]],decls:43,vars:14,consts:[[1,"cont"],[1,"one"],[1,"u"],[1,"r"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","url","required","",3,"ngModel","ngModelChange"],[1,"butn"],["mat-raised-button","","color","primary",3,"click"],[1,"spacer"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"two"],[3,"src"],[3,"value"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.TgZ(2,"small"),e._uU(3),e.qZA()(),e.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"mat-form-field",3)(8,"mat-label"),e._uU(9,"Superhero"),e.qZA(),e.TgZ(10,"input",4),e.NdJ("ngModelChange",function(s){return n.hero.superhero=s}),e.qZA()(),e.TgZ(11,"mat-form-field",3)(12,"mat-label"),e._uU(13,"Alter ego"),e.qZA(),e.TgZ(14,"input",4),e.NdJ("ngModelChange",function(s){return n.hero.alter_ego=s}),e.qZA()()(),e.TgZ(15,"mat-form-field")(16,"mat-label"),e._uU(17,"First appearance"),e.qZA(),e.TgZ(18,"input",4),e.NdJ("ngModelChange",function(s){return n.hero.first_appearance=s}),e.qZA()(),e.TgZ(19,"mat-form-field")(20,"mat-label"),e._uU(21,"Characters"),e.qZA(),e.TgZ(22,"input",4),e.NdJ("ngModelChange",function(s){return n.hero.characters=s}),e.qZA()(),e.TgZ(23,"mat-form-field")(24,"mat-label"),e._uU(25,"Creator"),e.qZA(),e.TgZ(26,"mat-select",5),e.NdJ("ngModelChange",function(s){return n.hero.publisher=s}),e.YNc(27,P,2,2,"mat-option",6),e.qZA()(),e.TgZ(28,"mat-form-field")(29,"mat-label"),e._uU(30,"Picture url"),e.qZA(),e.TgZ(31,"input",7),e.NdJ("ngModelChange",function(s){return n.hero.alt_img=s}),e.qZA()(),e._UZ(32,"br"),e.TgZ(33,"div",8)(34,"button",9),e.NdJ("click",function(){return n.save()}),e.TgZ(35,"mat-icon"),e._uU(36,"edit"),e.qZA(),e._uU(37),e.qZA(),e._UZ(38,"span",10),e.YNc(39,Q,4,0,"button",11),e.qZA()(),e.TgZ(40,"div",12),e._UZ(41,"img",13),e.ALo(42,"image"),e.qZA()()),2&t&&(e.xp6(1),e.hij(" ",n.hero.id?"Edit hero":"New hero"," "),e.xp6(2),e.Oqu(n.hero.superhero),e.xp6(7),e.Q6J("ngModel",n.hero.superhero),e.xp6(4),e.Q6J("ngModel",n.hero.alter_ego),e.xp6(4),e.Q6J("ngModel",n.hero.first_appearance),e.xp6(4),e.Q6J("ngModel",n.hero.characters),e.xp6(4),e.Q6J("ngModel",n.hero.publisher),e.xp6(1),e.Q6J("ngForOf",n.publishers),e.xp6(4),e.Q6J("ngModel",n.hero.alt_img),e.xp6(6),e.hij(" ",n.hero.id?"Update":"Create"," "),e.xp6(2),e.Q6J("ngIf",n.hero.id),e.xp6(2),e.Q6J("src",e.lcZ(42,12,n.hero),e.LSH))},dependencies:[p.sg,p.O5,u.Fj,u.JJ,u.Q7,u.On,U.ey,d.lW,v.KE,v.hX,M.Hw,b.Nt,L.gD,Z],styles:[".cont[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:40px}.one[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.two[_ngcontent-%COMP%]{flex-grow:3}.u[_ngcontent-%COMP%]{gap:20px;display:flex;flex-flow:row wrap}.r[_ngcontent-%COMP%]{flex-grow:1}img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.butn[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}"]}),o})();var q=a(3805);function j(o,r){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.superhero," ")}}function $(o,r){if(1&o&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Cero results for ",t.term," ")}}let B=(()=>{class o{constructor(t){this.heroesService=t,this.term="",this.heroes=[]}ngOnInit(){}searching(){this.heroesService.getSuggestions(this.term.trim()).subscribe(t=>this.heroes=t)}selecOpt(t){if(!t.option.value)return void(this.heroSel=void 0);const n=t.option.value;this.term=n.superhero,this.heroesService.getHeroById(n.id).subscribe(i=>this.heroSel=i)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search"]],decls:18,vars:7,consts:[[1,"parent"],[1,"one"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"ngModel","matAutocomplete","ngModelChange","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],[3,"value"],["value",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1"),e._uU(3,"Heroes search"),e.qZA(),e._UZ(4,"mat-divider"),e.qZA(),e.TgZ(5,"div",1)(6,"h3"),e._uU(7,"Search"),e.qZA(),e.TgZ(8,"mat-form-field")(9,"input",2),e.NdJ("ngModelChange",function(s){return n.term=s})("input",function(){return n.searching()}),e.qZA(),e.TgZ(10,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(s){return n.selecOpt(s)}),e.YNc(12,j,2,2,"mat-option",5),e.YNc(13,$,2,1,"mat-option",6),e.qZA()()(),e.TgZ(14,"div")(15,"pre"),e._uU(16),e.ALo(17,"json"),e.qZA()()()),2&t){const i=e.MAs(11);e.xp6(9),e.Q6J("ngModel",n.term)("matAutocomplete",i),e.xp6(3),e.Q6J("ngForOf",n.heroes),e.xp6(1),e.Q6J("ngIf",0===n.heroes.length&&n.term.trim().length>0),e.xp6(3),e.Oqu(e.lcZ(17,5,n.heroSel))}},dependencies:[p.sg,p.O5,u.Fj,u.JJ,u.On,q.XC,q.ZL,U.ey,v.KE,b.Nt,_.d,p.Ts],styles:[".parent[_ngcontent-%COMP%], .one[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),o})();var x=a(782),h=a(6338),K=a(1572);function X(o,r){1&o&&(e.TgZ(0,"mat-grid-list",2)(1,"mat-grid-tile"),e._UZ(2,"mat-spinner"),e.qZA()())}function R(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h1"),e._uU(3),e.TgZ(4,"small"),e._uU(5),e.qZA()(),e._UZ(6,"mat-divider")(7,"br")(8,"img",5),e.ALo(9,"image"),e.qZA(),e.TgZ(10,"div",6)(11,"h2"),e._uU(12),e.qZA(),e._UZ(13,"mat-divider"),e.TgZ(14,"mat-list")(15,"mat-list-item"),e._uU(16),e.qZA(),e.TgZ(17,"mat-list-item",7),e._uU(18),e.qZA(),e.TgZ(19,"mat-list-item"),e._uU(20),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.back())}),e._uU(23," Back "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.hero.superhero),e.xp6(2),e.hij(" - ",t.hero.alter_ego,""),e.xp6(3),e.Q6J("src",e.lcZ(9,7,t.hero),e.LSH),e.xp6(4),e.Oqu(t.hero.publisher),e.xp6(4),e.Oqu(t.hero.first_appearance),e.xp6(2),e.Oqu(t.hero.characters),e.xp6(2),e.Oqu(t.hero.publisher)}}let D=(()=>{class o{constructor(t,n,i){this.activatedRoute=t,this.heroesService=n,this.router=i}ngOnInit(){this.activatedRoute.params.pipe((0,A.w)(({id:t})=>this.heroesService.getHeroById(t))).subscribe(t=>this.hero=t)}back(){this.router.navigate(["/heroes/list"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.gz),e.Y36(g),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-hero"]],decls:3,vars:2,consts:[["cols","1",4,"ngIf","ngIfElse"],["divHero",""],["cols","1"],[1,"cls"],[1,"one"],[3,"src"],[1,"two"],[1,"on"],["mat-button","","color","warn",3,"click"]],template:function(t,n){if(1&t&&(e.YNc(0,X,3,0,"mat-grid-list",0),e.YNc(1,R,24,9,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",!n.hero)("ngIfElse",i)}},dependencies:[p.O5,d.lW,x.Il,x.DX,h.i$,h.Tg,_.d,K.Ou,Z],styles:[".cls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around;gap:30px}img[_ngcontent-%COMP%]{width:100%;border-radius:5px}@media (max-width: 270px){h2[_ngcontent-%COMP%]{font-size:40px}.on[_ngcontent-%COMP%]{height:160px}}"]}),o})();var E=a(6518),O=a(3267),G=a(3683);const z=[{path:"",component:(()=>{class o{constructor(t,n){this.router=t,this.authService=n}get auth(){return this.authService.auth}ngOnInit(){}logout(){this.router.navigate(["./auth"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.F0),e.Y36(E.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:37,vars:1,consts:[["fullscreen",""],["mode","push"],["sidenav",""],["color","primary"],[1,"spacer"],["mat-icon-button","",3,"click"],["routerLink","./list","mat-list-item","",3,"click"],["mat-list-icon",""],["routerLink","./add","mat-list-item","",3,"click"],["routerLink","./search","mat-list-item","",3,"click"],["mat-button","",3,"click"],[1,"container"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3)(4,"span"),e._uU(5,"Menu"),e.qZA(),e._UZ(6,"span",4),e.TgZ(7,"button",5),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(8,"mat-icon"),e._uU(9,"menu"),e.qZA()()(),e.TgZ(10,"mat-nav-list")(11,"a",6),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(12,"mat-icon",7),e._uU(13,"label"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"List of heroes"),e.qZA()(),e.TgZ(16,"a",8),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(17,"mat-icon",7),e._uU(18,"add"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"Add hero"),e.qZA()(),e.TgZ(21,"a",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(22,"mat-icon",7),e._uU(23,"search"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Search"),e.qZA()()()(),e.TgZ(26,"mat-toolbar")(27,"button",5),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(2);return e.KtG(l.toggle())}),e.TgZ(28,"mat-icon"),e._uU(29,"menu"),e.qZA()(),e._UZ(30,"span",4),e.TgZ(31,"span"),e._uU(32),e.qZA(),e.TgZ(33,"button",10),e.NdJ("click",function(){return n.logout()}),e._uU(34," Logout "),e.qZA()(),e.TgZ(35,"div",11),e._UZ(36,"router-outlet"),e.qZA()()}2&t&&(e.xp6(32),e.Oqu(n.auth.user))},dependencies:[d.lW,M.Hw,h.Hk,h.Tg,h.Nh,O.JX,O.TM,G.Ye,c.lC,c.yS],styles:[".container[_ngcontent-%COMP%]{margin:10px}"]}),o})(),children:[{path:"list",component:F},{path:"add",component:H},{path:"edit/:id",component:H},{path:"search",component:B},{path:":id",component:D},{path:"**",redirectTo:"list"}]}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(z),c.Bz]}),o})();var V=a(898);let ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,u.u5,V.q,W]}),o})()}}]);